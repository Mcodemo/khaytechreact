"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[2023],{66084:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var a=t(15861),r=t(1413),i=t(45987),s=t(29439),o=t(87757),u=t.n(o),c=t(58908),l=t(47313),d=t(32703),m=t(75627),h=t(88564),x=t(73428),p=t(43265),f=t(9019),j=t(54641),Z=t(57829),g=t(35898),b=t(61113),v=t(78887),y=t(69099),C=t(56605),w=t(94469),k=t(33604),B=t(63585),S=t(4117),_=t(76221),I=t(54285),P=(t(80120),t(40844)),T=t(85077),W=t(71361),E=t(52655),U=t(46417),N=["autoWidth","amount","onBlur","onChange","sx"],D=1e5,L=(0,h.ZP)(x.Z)((function(e){return{boxShadow:"none",backgroundColor:e.theme.palette.background.neutral}}));function V(){var e=(0,l.useState)(24),n=(0,s.Z)(e,2),t=n[0],a=n[1],r=(0,l.useState)(!1),i=(0,s.Z)(r,2),o=i[0],u=i[1],c=(0,l.useState)(0),d=(0,s.Z)(c,2),m=d[0],h=d[1];(0,l.useEffect)((function(){m&&x()}),[m]);var x=function(){var e=m.toString().length;a(22*e)},C=function(e){h(""===e.target.value?"":Number(e.target.value))},w=function(){m<0?h(0):m>D&&h(D)},k=(0,I.Z)().user,B=(0,I.Z)().general;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(W.Z,{title:"Dashboard",children:(0,U.jsx)(p.Z,{children:(0,U.jsxs)(f.ZP,{container:!0,spacing:3,children:[(0,U.jsx)(f.ZP,{item:!0,xs:12,md:12,children:(0,U.jsxs)(L,{children:[(0,U.jsx)(j.Z,{title:"User Fund Transfer"}),(0,U.jsx)(Z.Z,{sx:{p:3},children:(0,U.jsxs)(g.Z,{spacing:3,children:[(0,U.jsx)(b.Z,{variant:"overline",sx:{color:"text.secondary"},children:"Insert amount"}),(0,U.jsx)(z,{onBlur:w,onChange:C,autoWidth:t,amount:m}),(0,U.jsx)(v.ZP,{value:"number"===typeof m?m:0,valueLabelDisplay:"auto",step:50,marks:!0,min:0,max:D,onChange:function(e,n){h(n)}}),(0,U.jsxs)(g.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,U.jsx)(b.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Your Balance"}),(0,U.jsxs)(b.Z,{variant:"subtitle1",children:[B.cur_sym,(0,_.e_)(k.balance)]})]}),(0,U.jsx)(y.Z,{type:"submit",variant:"contained",size:"large",disabled:0===m,onClick:function(){u(!0)},children:"Transfer Now"})]})})]})}),(0,U.jsx)(f.ZP,{item:!0,xs:12,md:12,children:(0,U.jsx)(E.Vb,{})})]})})}),(0,U.jsx)(A,{open:o,autoWidth:t,amount:m,onClose:function(){u(!1)},onBlur:w,onChange:C})]})}function z(e){var n=e.autoWidth,t=e.amount,a=e.onBlur,s=e.onChange,o=e.sx,u=(0,i.Z)(e,N),c=(0,I.Z)().general;return(0,U.jsxs)(g.Z,{direction:"row",justifyContent:"center",spacing:1,sx:o,children:[(0,U.jsx)(b.Z,{variant:"h5",children:c.cur_sym}),(0,U.jsx)(C.Z,(0,r.Z)({disableUnderline:!0,size:"small",value:t,onChange:s,onBlur:a,inputProps:{step:50,min:0,max:D,type:"number"},sx:{typography:"h3","& input":{p:0,textAlign:"center",width:n}}},u))]})}function A(e){var n=e.open,t=e.amount,r=e.autoWidth,i=e.contactInfo,s=e.onClose,o=e.onBlur,l=e.onChange,h=(0,m.cI)({defaultValues:{amount:"",trxpin:"",username:""}}),x=h.reset,p=h.handleSubmit,f=h.formState.isSubmitting,j=(0,c.Ds)().enqueueSnackbar,Z=function(){var e=(0,a.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:T.Z.post("/user/usertransfer",{amount:n.amount,trxpin:n.trxpin,username:n.username}).then((function(e){200===e.data.code?j(e.data.message):j(e.data.message,{variant:"error"})})),x(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,U.jsx)(w.Z,{open:n,fullWidth:!0,maxWidth:"xs",onClose:s,children:(0,U.jsxs)(P.RV,{methods:h,onSubmit:p(Z),children:[(0,U.jsx)(k.Z,{children:"Transfer to "}),(0,U.jsxs)(g.Z,{spacing:3,sx:{p:3,pb:0},children:[(0,U.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,U.jsx)(B.Z,{src:null===i||void 0===i?void 0:i.avatar,sx:{width:48,height:48}}),(0,U.jsxs)("div",{children:[(0,U.jsxs)(b.Z,{variant:"subtitle2",children:[" ",(0,U.jsx)("a",{id:"custom-name",children:"None"})]}),(0,U.jsx)(b.Z,{variant:"body2",sx:{color:"text.secondary"},children:(0,U.jsx)("a",{id:"custom-email",children:(0,U.jsx)("small",{children:"None"})})})]})]}),(0,U.jsx)(z,{onBlur:o,onChange:l,autoWidth:r,amount:t,disabled:!0,disableUnderline:!1,sx:{justifyContent:"flex-end"}}),(0,U.jsx)(P.au,{name:"amount",type:"number",placeholder:"Confirm Amount"}),(0,U.jsx)(P.au,{name:"trxpin",type:"password",placeholder:"Transaction Pin"}),(0,U.jsx)(P.au,{name:"username",onKeyUp:function(e){var n=e.target.value;try{T.Z.post("/user/verifyusername",{username:n}).then((function(e){j(e.data.data.beneficiary.email);document.getElementById("custom-email").innerHTML=e.data.data.beneficiary.email,document.getElementById("custom-name").innerHTML=e.data.data.beneficiary.firstname+" "+e.data.data.beneficiary.lastname,document.getElementById("email").value=e.data.data.beneficiary.email}))}catch(t){console.error(t)}},placeholder:"Enter Recipient's Username"})]}),(0,U.jsxs)(S.Z,{children:[(0,U.jsx)(d.Z,{type:"submit",variant:"contained",disabled:0===t,loading:f,children:"Confirm & Transfer"}),(0,U.jsx)(y.Z,{onClick:s,children:"Cancel"})]})]})})}},50282:function(e,n){n.Z={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}}]);