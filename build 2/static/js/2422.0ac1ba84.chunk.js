"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[2422],{2422:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var s=r(97890),a=r(88564),t=r(43265),o=r(57829),i=r(61113),c=r(47723),l=r(33896),d=r(48175),u=r(71361),m=(r(42593),r(15861)),p=r(87757),w=r.n(p),h=r(28089),f=r(1432),x=r(75627),g=r(58908),v=r(35898),Z=r(32703),j=r(58434),b=r(40844),_=r(85077),k=r(46417);function y(e){e.onSent,e.onGetEmail;var n=window.localStorage.getItem("resettoken"),r=((0,j.Z)(),(0,s.s0)()),a=h.Ry().shape({password:h.Z_().min(6,"Password must be at least 6 characters").required("New Password is required"),password_confirmation:h.Z_().oneOf([h.iH("password"),null],"Passwords must match")}),t=(0,x.cI)({resolver:(0,f.X)(a),defaultValues:{password:"",password_confirmation:""}}),o=(0,g.Ds)().enqueueSnackbar,i=(t.reset,t.handleSubmit),c=t.formState.isSubmitting,l=function(){var e=(0,m.Z)(w().mark((function e(s){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:_.Z.post("/password/reset",{token:n,password:s.password,password_confirmation:s.password_confirmation}).then((function(e){console.log(e),console.log(e.data),200===e.data.code?(o(e.data.message),window.localStorage.removeItem("resettoken"),r(d.EE.login,{replace:!0})):o(e.data.message,{variant:"error"})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return n||r(d.EE.login,{replace:!0}),(0,k.jsx)(b.RV,{methods:t,onSubmit:i(l),children:(0,k.jsxs)(v.Z,{spacing:3,children:[(0,k.jsx)(b.au,{name:"password",type:"password",label:"New Password"}),(0,k.jsx)(b.au,{name:"password_confirmation",type:"password",label:"Confirm New Password"}),(0,k.jsx)(Z.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:c,children:"Reset Password"})]})})}var P=(0,a.ZP)("div")((function(e){return{display:"flex",height:"100%",alignItems:"center",padding:e.theme.spacing(12,0)}}));function E(){var e=window.localStorage.getItem("resettoken"),n=(0,s.s0)();return e||(window.location.href=d.EE.login,n(d.EE.login,{replace:!0})),(0,k.jsx)(u.Z,{title:"Verify",sx:{height:1},children:(0,k.jsxs)(P,{children:[(0,k.jsx)(l.Z,{}),(0,k.jsx)(t.Z,{children:(0,k.jsxs)(o.Z,{sx:{maxWidth:480,mx:"auto"},children:[(0,k.jsx)(i.Z,{variant:"h3",paragraph:!0,children:"Reset Password"}),(0,k.jsx)(i.Z,{sx:{color:"text.secondary"},children:"Please fill the form below to reset your account password"}),(0,k.jsx)(o.Z,{sx:{mt:5,mb:3},children:(0,k.jsx)(y,{})}),(0,k.jsxs)(i.Z,{variant:"body2",align:"center",children:["Don\u2019t have a code? \xa0",(0,k.jsx)(c.Z,{variant:"subtitle2",underline:"none",onClick:function(){},children:"Resend code"})]})]})})]})})}}}]);