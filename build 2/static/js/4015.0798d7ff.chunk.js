"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[4015],{14015:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var a=n(29439),r=n(47313),i=n(29466),s=n(97890),l=n(88564),o=n(43265),c=n(57829),u=n(61113),m=n(69099),d=n(33896),h=n(48175),x=n(71361),g=n(15861),f=n(87757),p=n.n(f),j=n(28089),Z=n(1432),v=n(75627),w=n(58908),b=n(35898),k=n(32703),y=n(58434),E=n(40844),S=n(85077),_=n(46417);function P(e){e.onSent,e.onGetEmail;var t=(0,y.Z)(),n=(0,s.s0)(),a=j.Ry().shape({email:j.Z_().email("Email must be a valid email address").required("Email is required")}),r=(0,v.cI)({resolver:(0,Z.X)(a),defaultValues:{email:""}}),i=(0,w.Ds)().enqueueSnackbar,l=(r.reset,r.handleSubmit),o=r.formState.isSubmitting,c=function(){var e=(0,g.Z)(p().mark((function e(a,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:t.current&&S.Z.post("/password/email",{email:a.email}).then((function(e){console.log(e),console.log(e.data),200===e.data.code?(i(e.data.message),window.localStorage.setItem("resetemail",a.email),n(h.EE.verify,{replace:!0})):i(e.data.message,{variant:"error"})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,_.jsx)(E.RV,{methods:r,onSubmit:l(c),children:(0,_.jsxs)(b.Z,{spacing:3,children:[(0,_.jsx)(E.au,{name:"email",label:"Email address"}),(0,_.jsx)(k.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:o,children:"Reset Password"})]})})}var R=n(33219),W=(0,l.ZP)("div")((function(e){return{display:"flex",minHeight:"100%",alignItems:"center",justifyContent:"center",padding:e.theme.spacing(12,0)}}));function q(){var e=(0,r.useState)(""),t=(0,a.Z)(e,2),n=t[0],l=t[1],g=(0,r.useState)(!1),f=(0,a.Z)(g,2),p=f[0],j=f[1],Z=window.localStorage.getItem("resetemail"),v=(0,s.s0)();return Z||v(h.EE.login,{replace:!0}),(0,_.jsx)(x.Z,{title:"Reset Password",sx:{height:1},children:(0,_.jsxs)(W,{children:[(0,_.jsx)(d.Z,{}),(0,_.jsx)(o.Z,{children:(0,_.jsx)(c.Z,{sx:{maxWidth:480,mx:"auto"},children:p?(0,_.jsxs)(c.Z,{sx:{textAlign:"center"},children:[(0,_.jsx)(R.Jg,{sx:{mb:5,mx:"auto",height:160}}),(0,_.jsx)(u.Z,{variant:"h3",gutterBottom:!0,children:"Request sent successfully"}),(0,_.jsxs)(u.Z,{children:["We have sent a confirmation email to \xa0",(0,_.jsx)("strong",{children:n}),(0,_.jsx)("br",{}),"Please check your email."]}),(0,_.jsx)(m.Z,{size:"large",variant:"contained",component:i.rU,to:h.EE.login,sx:{mt:5},children:"Back"})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u.Z,{variant:"h3",paragraph:!0,children:"Forgot your password?"}),(0,_.jsx)(u.Z,{sx:{color:"text.secondary",mb:5},children:"Please enter the email address associated with your account and We will email you a link to reset your password."}),(0,_.jsx)(P,{onSent:function(){return j(!0)},onGetEmail:function(e){return l(e)}}),(0,_.jsx)(m.Z,{fullWidth:!0,size:"large",component:i.rU,to:h.EE.login,sx:{mt:1},children:"Back"})]})})})]})})}}}]);