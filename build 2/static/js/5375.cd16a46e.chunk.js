(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[5375],{80648:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(29439),r=n(47313);function l(e){var t=(0,r.useState)(e||""),n=(0,i.Z)(t,2),l=n[0],o=n[1];return{currentTab:l,onChangeTab:function(e,t){o(t)},setCurrentTab:o}}},5375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var i=n(29439),r=n(88718),l=n.n(r),o=n(47313),a=n(97890),c=n(29466),s=n(19860),u=n(43265),d=n(69099),f=n(73428),h=n(35898),x=n(19536),g=n(5297),p=n(65280),v=n(51629),Z=n(61689),m=n(47131),j=n(66835),b=n(57861),w=n(57829),S=n(91034),D=n(83929),C=n(70024),y=n(48175),P=n(80648),k=n(11338),R=n(66429),N=n(95597),T=n(71361),B=n(86853),_=n(42593),L=n(62677),O=n(67871),E=n(55844),I=n(61603),A=n(52655),F=n(85077),W=n(46417),z=["all","pending","successful","declined"],J=[{id:"invoiceNumber",label:"Client",align:"left"},{id:"createDate",label:"Create",align:"left"},{id:"dueDate",label:"Due",align:"left"},{id:"price",label:"Amount",align:"center",width:140},{id:"status",label:"Status",align:"left"},{id:""}];function Q(){var e=(0,s.Z)(),t=(0,k.Z)().themeStretch,n=(0,a.s0)(),r=(0,R.ZP)({defaultOrderBy:"createDate"}),Q=r.dense,K=r.page,M=r.order,U=r.orderBy,V=r.rowsPerPage,Y=r.setPage,$=r.selected,q=r.setSelected,G=r.onSelectRow,H=r.onSelectAllRows,X=r.onSort,ee=r.onChangeDense,te=r.onChangePage,ne=r.onChangeRowsPerPage,ie=(0,o.useState)(N.Ot),re=(0,i.Z)(ie,2),le=re[0],oe=re[1],ae=(0,o.useState)(""),ce=(0,i.Z)(ae,2),se=ce[0],ue=ce[1],de=(0,o.useState)("all"),fe=(0,i.Z)(de,2),he=fe[0],xe=fe[1],ge=(0,o.useState)(null),pe=(0,i.Z)(ge,2),ve=pe[0],Ze=pe[1],me=(0,o.useState)(null),je=(0,i.Z)(me,2),be=je[0],we=je[1],Se=(0,P.Z)("all"),De=Se.currentTab,Ce=Se.onChangeTab,ye=(0,o.useState)(null),Pe=(0,i.Z)(ye,2),ke=Pe[0],Re=Pe[1];if((0,o.useEffect)((function(){F.Z.get("/user/deposit/log").then((function(e){Re(e),console.log("taken"),console.log(e)}))}),[]),!ke)return null;var Ne=JSON.stringify(ke.data.data.deposit),Te=JSON.parse(Ne),Be=function(e){var t=e.tableData,n=e.comparator,i=e.filterName,r=e.filterStatus,l=e.filterService,o=e.filterStartDate,a=e.filterEndDate,c=t.map((function(e,t){return[e,t]}));c.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),t=c.map((function(e){return e[0]})),i&&(t=t.filter((function(e){return-1!==e.trx.toLowerCase().indexOf(i.toLowerCase())||-1!==e.user.username.toLowerCase().indexOf(i.toLowerCase())})));"all"!==r&&(t=t.filter((function(e){return e.status===r})));"all"!==l&&(t=t.filter((function(e){return e.items.some((function(e){return e.service===l}))})));o&&a&&(t=t.filter((function(e){return e.createDate.getTime()>=o.getTime()&&e.createDate.getTime()<=a.getTime()})));return t}({tableData:le,comparator:(0,R.sQ)(M,U),filterName:se,filterService:he,filterStatus:De,filterStartDate:ve,filterEndDate:be}),_e=Q?56:76,Le=!Be.length&&!!se||!Be.length&&!!De||!Be.length&&!!he||!Be.length&&!!be||!Be.length&&!!ve,Oe=function(e){return Te.filter((function(t){return t.status===e})).length},Ee=function(e){return l()(Te.filter((function(t){return t.status===e})),"totalPrice")},Ie=function(e){return Oe(e)/Te.length*100},Ae=[{value:"all",label:"All",color:"info",count:Te.length},{value:"successful",label:"Successful",color:"success",count:Oe(1)},{value:"pending",label:"Pending",color:"warning",count:Oe(2)},{value:"declined",label:"Declined",color:"error",count:Oe(3)}];return(0,W.jsx)(T.Z,{title:"Invoice: List",children:(0,W.jsxs)(u.Z,{maxWidth:!t&&"lg",children:[(0,W.jsx)(O.Z,{heading:"Deposit Log",links:[{name:"Dashboard",href:y.vB.root},{name:"Deposit Log"}],action:(0,W.jsx)(d.Z,{variant:"contained",component:c.rU,to:y.vB.dashboard.deposit,startIcon:(0,W.jsx)(_.Z,{icon:"eva:wallet-fill"}),children:"New Deposit"})}),(0,W.jsx)(f.Z,{sx:{mb:5},children:(0,W.jsx)(L.Z,{children:(0,W.jsxs)(h.Z,{direction:"row",divider:(0,W.jsx)(x.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,W.jsx)(I.Z,{title:"Total",total:Te.length,percent:100,price:l()(Te,43),icon:"ic:round-receipt",color:e.palette.info.main}),(0,W.jsx)(I.Z,{title:"Successful",total:Oe(1),percent:Ie(1),price:Ee(1),icon:"eva:checkmark-circle-2-fill",color:e.palette.success.main}),(0,W.jsx)(I.Z,{title:"Pending",total:Oe(2),percent:Ie(2),price:Ee(2),icon:"eva:clock-fill",color:e.palette.warning.main}),(0,W.jsx)(I.Z,{title:"Declined",total:Oe(3),percent:Ie(3),price:Ee(3),icon:"eva:bell-fill",color:e.palette.error.main})]})})}),(0,W.jsxs)(f.Z,{children:[(0,W.jsx)(g.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:De,onChange:Ce,sx:{px:2,bgcolor:"background.neutral"},children:Ae.map((function(e){return(0,W.jsx)(p.Z,{disableRipple:!0,value:e.value,label:(0,W.jsxs)(h.Z,{spacing:1,direction:"row",alignItems:"center",children:[(0,W.jsx)("div",{children:e.label})," ",(0,W.jsxs)(B.Z,{color:e.color,children:[" ",e.count," "]})]})},e.value)}))}),(0,W.jsx)(x.Z,{}),(0,W.jsx)(A.CJ,{filterName:se,filterService:he,filterStartDate:ve,filterEndDate:be,onFilterName:function(e){ue(e),Y(0)},onFilterService:function(e){xe(e.target.value)},onFilterStartDate:function(e){Ze(e)},onFilterEndDate:function(e){we(e)},optionsService:z}),(0,W.jsx)(L.Z,{children:(0,W.jsxs)(v.Z,{sx:{minWidth:800,position:"relative"},children:[$.length>0&&(0,W.jsx)(E.Nl,{dense:Q,numSelected:$.length,rowCount:le.length,onSelectAllRows:function(e){return H(e,le.map((function(e){return e.id})))},actions:(0,W.jsxs)(h.Z,{spacing:1,direction:"row",children:[(0,W.jsx)(Z.Z,{title:"Sent",children:(0,W.jsx)(m.Z,{color:"primary",children:(0,W.jsx)(_.Z,{icon:"ic:round-send"})})}),(0,W.jsx)(Z.Z,{title:"Download",children:(0,W.jsx)(m.Z,{color:"primary",children:(0,W.jsx)(_.Z,{icon:"eva:download-outline"})})}),(0,W.jsx)(Z.Z,{title:"Print",children:(0,W.jsx)(m.Z,{color:"primary",children:(0,W.jsx)(_.Z,{icon:"eva:printer-fill"})})}),(0,W.jsx)(Z.Z,{title:"Delete",children:(0,W.jsx)(m.Z,{color:"primary",onClick:function(){return function(e){var t=le.filter((function(t){return!e.includes(t.id)}));q([]),oe(t)}($)},children:(0,W.jsx)(_.Z,{icon:"eva:trash-2-outline"})})})]})}),(0,W.jsxs)(j.Z,{size:Q?"small":"medium",children:[(0,W.jsx)(E.K,{order:M,orderBy:U,headLabel:J,rowCount:le.length,numSelected:$.length,onSort:X,onSelectAllRows:function(e){return H(e,le.map((function(e){return e.id})))}}),(0,W.jsxs)(b.Z,{children:[Te.slice(K*V,K*V+V).map((function(e){return(0,W.jsx)(A.OY,{row:e,selected:$.includes(e.id),onSelectRow:function(){return G(e.id)},onViewRow:function(){return t=e.id,void n(y.vB.invoice.view(t));var t},onEditRow:function(){return t=e.id,void n(y.vB.invoice.edit(t));var t},onDeleteRow:function(){return function(e){var t=le.filter((function(t){return t.id!==e}));q([]),oe(t)}(e.id)}},e.id)})),(0,W.jsx)(E.$W,{height:_e,emptyRows:(0,R.fQ)(K,V,le.length)}),(0,W.jsx)(E.et,{isNotFound:Le})]})]})]})}),(0,W.jsxs)(w.Z,{sx:{position:"relative"},children:[(0,W.jsx)(S.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:Be.length,rowsPerPage:V,page:K,onPageChange:te,onRowsPerPageChange:ne}),(0,W.jsx)(D.Z,{control:(0,W.jsx)(C.Z,{checked:Q,onChange:ee}),label:"Dense",sx:{px:3,py:1.5,top:0,position:{md:"absolute"}}})]})]})]})})}},61603:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(35898),r=n(85281),l=n(61113),o=n(57829),a=n(76221),c=n(42593),s=n(46417);function u(e){var t=e.title,n=e.total,u=e.icon,d=e.color,f=e.percent,h=e.price;return(0,s.jsxs)(i.Z,{direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,s.jsxs)(i.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,s.jsx)(c.Z,{icon:u,sx:{color:d,width:24,height:24,position:"absolute"}}),(0,s.jsx)(r.Z,{variant:"determinate",value:f,size:56,thickness:4,sx:{color:d,opacity:.48}}),(0,s.jsx)(r.Z,{variant:"determinate",value:100,size:56,thickness:4,sx:{color:"grey.50016",position:"absolute",top:0,left:0,opacity:.48}})]}),(0,s.jsxs)(i.Z,{spacing:.5,sx:{ml:2},children:[(0,s.jsx)(l.Z,{variant:"h6",children:t}),(0,s.jsxs)(l.Z,{variant:"subtitle2",children:[(0,a.v1)(n)," ",(0,s.jsx)(o.Z,{component:"span",sx:{color:"text.secondary",typography:"body2"},children:"invoice"})]}),(0,s.jsx)(l.Z,{variant:"subtitle2",sx:{color:d},children:(0,a.e_)(h)})]})]})}},88718:function(e,t,n){var i=n(81186),r=n(41790);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):0}}}]);